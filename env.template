# =============================================================================
# KRYONEX WIZARD - ENVIRONMENT VARIABLES TEMPLATE
# =============================================================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!
# =============================================================================

# =============================================================================
# SERVER
# =============================================================================

PORT=3000

# =============================================================================
# SUPABASE (Database & Auth)
# =============================================================================

# Get from: Supabase Dashboard → Settings → API
SUPABASE_URL=https://xxxx.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# =============================================================================
# RETELL AI (Voice Agent)
# =============================================================================

# Get from: Retell Dashboard → API Keys
RETELL_API_KEY=key_...

# LLM IDs for each industry (from Retell Dashboard → LLMs)
RETELL_LLM_ID_HVAC=llm_...
RETELL_LLM_ID_PLUMBING=llm_...

# LLM versions (optional - leave empty for latest/draft)
RETELL_LLM_VERSION_HVAC=
RETELL_LLM_VERSION_PLUMBING=

# Master agent IDs (from Retell Dashboard → Agents)
RETELL_MASTER_AGENT_ID_HVAC=agent_...
RETELL_MASTER_AGENT_ID_PLUMBING=agent_...

# Agent version to lock phone numbers to (integer: 0=draft, 1=first publish, etc.)
# Leave empty to use draft/latest version
RETELL_AGENT_VERSION_HVAC=
RETELL_AGENT_VERSION_PLUMBING=

# Demo agent for testing outbound calls
RETELL_DEMO_AGENT_ID=agent_...
RETELL_DEMO_FROM_NUMBER=+14155550123

# Set to "true" for SMS sandbox mode (testing)
RETELL_SMS_SANDBOX=false

# Shared SMS number for all users (enables conversation-based routing)
# Set this to your registered A2P number to use shared SMS model
MASTER_SMS_NUMBER=+1...

# Webhook secret for signature verification (optional but recommended)
RETELL_WEBHOOK_SECRET=

# Auto-sync templates interval in minutes (0 or empty to disable)
RETELL_AUTO_SYNC_MINUTES=60

# =============================================================================
# STRIPE (Payments)
# =============================================================================

# Get from: Stripe Dashboard → Developers → API keys
STRIPE_SECRET_KEY=sk_live_...

# Webhook secret from: Stripe Dashboard → Webhooks → Your endpoint
STRIPE_WEBHOOK_SECRET=whsec_...

# Price IDs for subscription tiers (from Stripe Products)
STRIPE_PRICE_ID_CORE=price_...
STRIPE_PRICE_ID_PRO=price_...
STRIPE_PRICE_ID_ELITE=price_...
STRIPE_PRICE_ID_SCALE=price_...

# Top-up package price IDs
STRIPE_TOPUP_CALL_300=price_...
STRIPE_TOPUP_CALL_800=price_...
STRIPE_TOPUP_SMS_500=price_...
STRIPE_TOPUP_SMS_1000=price_...

# =============================================================================
# URLS (Must be publicly accessible for webhooks)
# =============================================================================

# Backend URL (where Retell/Stripe send webhooks)
SERVER_URL=https://your-backend.railway.app

# Frontend URL (for redirects after Stripe, emails, etc.)
FRONTEND_URL=https://your-frontend.vercel.app
APP_URL=https://your-frontend.vercel.app

# =============================================================================
# EMAIL (Transactional emails via Resend)
# =============================================================================

# Get from: Resend Dashboard → API Keys
RESEND_API_KEY=re_...

# =============================================================================
# ADMIN
# =============================================================================

# Comma-separated list of admin emails
# Users with these emails OR role='admin' in profiles get admin access
ADMIN_EMAIL=admin@example.com,admin2@example.com

# Access code for admin features (optional extra security)
ADMIN_ACCESS_CODE=your_secret_code

# IP allowlist for admin (optional, comma-separated)
ADMIN_IP_ALLOWLIST=

# =============================================================================
# CAL.COM (Calendar Integration)
# =============================================================================

# Get from: Cal.com → Settings → Developer → OAuth
CALCOM_CLIENT_ID=...
CALCOM_CLIENT_SECRET=...

# 32-character random string for encrypting tokens
CALCOM_ENCRYPTION_KEY=32_char_random_string_here

# =============================================================================
# COMPLIANCE
# =============================================================================

# Version string for consent tracking
CONSENT_VERSION=v1

# =============================================================================
# FRONTEND ENVIRONMENT (frontend/.env)
# =============================================================================
# Create a separate file at frontend/.env with these:
#
# VITE_SUPABASE_URL=https://xxxx.supabase.co
# VITE_SUPABASE_ANON_KEY=eyJ...
# VITE_API_URL=http://localhost:3000
# VITE_ADMIN_EMAIL=admin@example.com
#
# Note: VITE_ prefix is required for Vite to expose to frontend
# =============================================================================
